<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
    <link href="../css/main.css" rel="stylesheet" type="text/css" />
</head>
<body>
    <div>
        <div id="HS_BM_OVERLAY" class="HS_BM_OVERLAY_Hidden">
            <div id="HS_BM_RAINBOWDASH">
                <div style="background-color: #F95B00;">
                </div>
                <div style="background-color: #F95B00;">
                </div>
                <div style="background-color: #F95B00;">
                </div>
                <div style="background-color: #F95B00;">
                </div>
            </div>
            <div id="HS_BM_OVERLAY_WRAPPER" class="HS_desktop">
                <a id="HS_BM_OVERLAY_LOGO" href="#" target="_blank" style="display: block;">
                </a>
                <div id="HS_BM_OVERLAY_LABEL"></div>
                <form id="HS_FORM">
                <a id="HS_BM_VL_BTN" class="HS_BM_BTN pkt_green hide" target="_blank" href="#">查看列表</a> 
                <a id="HS_BM_BTN" class="HS_BM_BTN gray hide" href="javascript:void(0)" data-operate-type="1">添加标签</a>
                <div id="HS_BM_OVERLAY_INPUT_CONTAINER">
                    <input type="text" id="HS_BM_OVERLAY_INPUT" placeholder="添加标签，多个标签用,分隔" />
                    <div class="aWrapper" style="display: block;">
                        <div class="aCon" style="min-width: 312px; margin-left: 0px; margin-top: 27px;"></div>
                    </div>
                    <input type="submit" value="Submit" name="submit" style="position:absolute !important;left:-789em !important;" />						
                </div>
                </form>
            </div>
        </div>
    </div>    

    <script src="../scripts/jquery-1.9.1.min.js" type="text/javascript"></script>
    <script type="text/javascript">
        $("#HS_BM_OVERLAY").mouseover(function () {
            $(this).removeClass("HS_BM_OVERLAY_Hidden");
        }).mouseout(function () {
            var self = this;
            $(self).addClass("HS_BM_OVERLAY_Hidden");
        });
        $("#HS_BM_BTN").click(function () {
            var operate = $(this).attr("data-operate-type");
            if (operate == "1") { // 如果当前是“添加标签”，点击将按钮变成“取消”
                $("#HS_BM_OVERLAY_INPUT_CONTAINER").addClass("HS_SHOW_INPUT");
                $(this).html("取消");
                $(this).attr("data-operate-type", "2");
            } else if (operate == "2") { // 如果当前是“取消”，点击关闭顶栏，将操作按成“添加标签”
                Collect.prototype.hideMsgBar();
                $(this).attr("data-operate-type", "1");
                $(this).html("添加标签");
            } else if (operate == "3") { // 如果当前操作是“保存”，点击提交
                console.log("保存");
            }
        });

        // 输入文本后，按钮变成“保存”，失去焦点但没有输入文本，按钮变成“取消”
        $("#HS_BM_OVERLAY_INPUT").keyup(function () {
            if (this.value.length > 0) {
                $("#HS_BM_BTN").removeClass("gray");
                $("#HS_BM_BTN").text("保存");
                $("#HS_BM_BTN").attr("data-operate-type", "3");
            }
        }).blur(function () {
            if ($(this).val().length == 0) {
                $("#HS_BM_BTN").addClass("gray");
                $("#HS_BM_BTN").text("取消");
                $("#HS_BM_BTN").attr("data-operate-type", 1);
            }
        });

        $("#HS_BM_OVERLAY").removeClass("HS_BM_OVERLAY_Hidden");
    </script>
</body>
</html>
